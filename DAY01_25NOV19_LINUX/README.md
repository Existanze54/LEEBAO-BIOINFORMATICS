# LEEBAO-BIOINFORMATICS

Хакатон по биоинформатике Лаборатории экологии и эволюционной биологии водных организмов ДВФУ

## **ДЕНЬ 01**. УСТАНОВКА LINUX. ОРГАНИЗАЦИОННЫЕ ВОПРОСЫ

## СОДЕРЖАНИЕ
* [A. Установка Linux](https://github.com/vinni-bio/LEEBAO-BIOINFORMATICS/tree/master/DAY01_25NOV19_LINUX#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-linux%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D0%B2%D0%B0%D0%B5%D0%BC-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D1%83-%D0%BD%D0%B0-%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE-%D0%B2-%D0%BD%D0%BE%D0%B2%D0%BE%D0%BC-%D0%BE%D0%BA%D0%BD%D0%B5)
* [B. Настройка системы по умолчанию](https://github.com/vinni-bio/LEEBAO-BIOINFORMATICS/tree/master/DAY01_25NOV19_LINUX#%D0%BA%D0%B0%D0%BA-%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C-windows-10-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BE%D0%B9-%D0%BF%D0%BE-%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D0%B2%D0%B0%D0%B5%D0%BC-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D1%83-%D0%BD%D0%B0-%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE-%D0%B2-%D0%BD%D0%BE%D0%B2%D0%BE%D0%BC-%D0%BE%D0%BA%D0%BD%D0%B5)
* [C. Использование Virtual Box](https://github.com/vinni-bio/LEEBAO-BIOINFORMATICS/tree/master/DAY01_25NOV19_LINUX#%D0%B0%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D0%B0-%D0%B2%D1%81%D0%B5%D0%BC%D1%83-%D1%87%D1%82%D0%BE-%D0%B1%D1%8B%D0%BB%D0%BE-%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%BE-%D0%B2%D1%8B%D1%88%D0%B5--%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-virtual-box)
* [D. Настройка PROXY в Linux Ubuntu](https://github.com/vinni-bio/LEEBAO-BIOINFORMATICS/tree/master/DAY01_25NOV19_LINUX#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-proxy-%D0%B2-linux%D0%BD%D1%83%D0%B6%D0%BD%D0%BE-%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE-%D0%B4%D0%BB%D1%8F-%D1%82%D0%B5%D1%85-%D0%BA%D1%82%D0%BE-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D1%82%D1%81%D1%8F-%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B5%D0%BD%D0%BD%D0%B5%D0%B9-%D1%81%D0%B5%D1%82%D1%8C%D1%8E-%D0%B4%D0%B2%D1%84%D1%83-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D0%BF%D1%80%D0%BE%D0%B2%D0%BE%D0%B4%D0%BD%D0%BE%D0%B5-%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5)
* [E. Обновление системы Linux Ubuntu]()
* [F. Установка нужных пакетов Linux Ubuntu]()

### A. Установка Linux<br/>(открываем ссылку на видео в новом окне)
<a href="http://www.youtube.com/watch?feature=player_embedded&v=u5QyjHIYwTQE
" target="_blank"><img src="http://img.youtube.com/vi/u5QyjHIYwTQ/0.jpg" 
alt="LINUX Installation" width="240" height="180" border="10" /></a>

### Краткие инструкции для параллельной установки Linux
##### Перед установкой проверьте наличие:  
* Установленной на вашем компьютере системы Windows 10
* Бэкапа вашей системы Windows 10 (на тот случай, если что-то пойдет не так)
* Свободного пространства на жестком диске не менее 60 Гб (идеально подойдёт 100 Gb)
* Хорошего соединения с интернетом
* Флеш-карты объемом не менее 4 Gb
##### Дальше следуйте пошагово следующей инструкции:  
1. Скачайте Ubuntu [**отсюда**](https://ubuntu.com/download/desktop) (открываем ссылку в новом окне)
2. Скачайте Etcher [**отсюда**](https://www.balena.io/etcher) (открываем ссылку в новом окне)
3. Вставьте вашу флешку в USB порт и отформатируйте ее в формате FAT32:  
   кликаем правой кнопкой по иконке флешки  
   выбираем меню `форматировать`  
   выбираем правильный формат (FAT32)  
   кликаем `старт` (или start)  
   после выполнения операции закрываем окно  
4. Выделяем раздел диска для установки системы Linux:  
   в Панели Управления Windows открываем "Управление дисками" (Disk management)  
   выбираем нужный диск (обычно там, где установлена ваша система Windows 10)  
   кликаем правой кнопкой по этому разделу и выбираем меню `сжатие диска` (или shrink disk)  
   указываем необходимый объем для сжатия (100 Gb)  
   кликаем `сжать` (или shrink)  
   проверяем, что у вас появилось нераспределенное пространство (unallocated) нужного размера  
5. Создаем загрузочную флешку с Ubuntu:  
   устанавливаем Etcher  
   открываем Etcher  
   выбираем образ Ubuntu  
   кликаем `Flash!`  
6. Перезагружаем систему Windows, зажав клавишу `shift`, и попадаем в `boot` меню  
   выбираем загрузку с флешки  
7. (*Опционально, если не получился пункт 6*) Входим в **BIOS** и меняем порядок загрузки:  
   зажимаем одну из следующих клавиш при перезагрузке `ESC`/`DEL`/`F2`/`F10`/`F12`  
   в bios ищем `Boot options` или `Boot menu`  
   изменяем опции boot чтобы ваша флешка загружалась первой  
   сохраняем изменения в bios  
   при выходе из bios ваш компьютер должен сделать перезагрузку со вставленной флешкой  
8. Загружаем Ubuntu с флешки, выбрав *Try Ubuntu without installing*  
9. Запускаем установку Ubuntu:  
   кликаем по иконке на рабочем столе  
   выбираем язык *english*  
   нажимаем *continue*  
   выбираем *normal installation*, убрав отметку *Download updates while installing Ubuntu*  
   выбираем *something else* и указываем в меню дисков пустой раздел `free space`, который мы создавали выше  
10. Создаем системный раздел для Linux:  
   кликаем на `+`  
   выделяем **20-30 Gb**  
   выбираем тип раздела `logical`  
   выбираем путь к разделу `/`  
11. Выделяем объем SWAP памяти на диске:  
   кликаем на `+`  
   выделяем объем равный половине вашей RAM (оперативной памяти)  
   выбираем тип раздела `logical`  
   выбираем путь к разделу `swap area`  
12. Указываем размер домашнего раздела:  
   кликаем на `+`  
   используем оставшийся объем свободного пространства  
   выбираем тип раздела `logical`  
   выбираем путь к разделу `/home`  
13. Нажимаем `install now` и подтверждаем установку `continue`
14. Следуйте инструкциям по установке:  
   выбираем часовой пояс  
   указываем имя (как имя пользователя)  
   указываем имя компьютера  
   указываем имя пользователя  
   создаем и подтверждаем пароль  
15. После завершения установки вынимаем флешку и перезагружаем компьютер

### B. Как сделать Windows 10 системой по умолчанию<br/>(открываем ссылку на видео в новом окне)
<a href="http://www.youtube.com/watch?feature=player_embedded&v=Yp0dM-tsRl0
" target="_blank"><img src="http://img.youtube.com/vi/Yp0dM-tsRl0/0.jpg" 
alt="Windows Initiation" width="240" height="180" border="10" /></a>

### Краткие инструкции:
1. Зайдите в систему Ubuntu
2. Откройте Terminal
3. Введите следующие три команды (указав ваш пароль при запросе системы):
```
sudo add-apt-repository ppa:danielrichter2007/grub-customizer 
sudo apt update
sudo apt install grub-customizer
```
4. Откройте приложение **Grub Customizer** (указав ваш пароль при запросе системы) 
5. Выберите *Windows Boot Manager* и с помощью стрелок переместите его на первую позицию
6. Кликните `Save` и закройте приложение
7. Перезагрузите компьютер - теперь по умолчанию должна загружаться система Windows

### C. Альтернатива всему, что было описано выше – установка Virtual Box 
* скачать и установить можно [отсюда](https://www.virtualbox.org/wiki/Downloads)
* нужно взять образ диска с Linux (спросите у ребят на встрече)
* импортируйте образ
* введите необходимые настройки системы
* запустите
* **ВНИМАНИЕ:** СИСТЕМА БУДЕТ ИНОГДА СИЛЬНО ТОРМОЗИТЬ И КАЖДЫЙ РАЗ ЗАГРУЖАТЬСЯ С НУЛЯ


### D. Настройка PROXY в LINUX<br/>(нужно только для тех кто пользуется внутренней сетью ДВФУ, через проводное соединение)
1. Откройте терминал
2. Откройте для редактирования файл с переменными среды LINUX (пока не спрашивайте, что это такое)
```
sudo nano /etc/environment
```
3. В файле `environment` создайте новые строки следующего содержания, где `myproxy.server.ru:????` будет прокси адрес ДВФУ и соответствующий порт
```
http_proxy="http://myproxy.server.ru:????/"
https_proxy="http://myproxy.server.ru:????/"
ftp_proxy="http://myproxy.server.ru:????/"
HTTP_PROXY="http://myproxy.server.ru:????/"
HTTPS_PROXY="http://myproxy.server.ru:????/"
FTP_PROXY="http://myproxy.server.ru:????/"

```
4. Если строки исключения `no_proxy` отсутствуют, то их нужно тоже создать и добавить нужные адреса хостингов (здесь лишь привожу пример)
```
no_proxy="localhost,127.0.0.1,localaddress,.localdomain.com"
NO_PROXY="localhost,127.0.0.1,localaddress,.localdomain.com"
```
5. Выходим из нано и сохраняем файл, нажав `Ctr+X` и подтвердив изменения

6. После перезапуска терминала у вас должны появиться новые переменные OS, которые можно увидеть через команды `env` или `echo $VAR`, где VAR - это название нужной переменной

7. Установщик apt-get требует отдельных настроек для PROXY в специальном файле
```
sudo touch /etc/apt/apt.conf.d/proxy.conf
sudo nano /etc/apt/apt.conf.d/proxy.conf
```
8. В файле `proxy.conf` создайте новые строки следующего содержания, где `myproxy.server.ru:????` будет прокси адрес ДВФУ и соответствующий порт
```
Acquire {
    HTTP::proxy "http://myproxy.server.ru:????";  
    HTTPS::proxy "http://myproxy.server.ru:????";  
    FTP::proxy "http://myproxy.server.ru:????";  
}
```
9. Выходим из нано и сохраняем файл, нажав `Ctr+X` и подтвердив изменения
10. Тем, кто пользуется установщиком SNAP, будет также нужно выполнить следующие команды, где `myproxy.server.ru:????` будет прокси адрес ДВФУ и соответствующий порт
```
sudo snap set system proxy.http=http://myproxy.server.ru:????
sudo snap set system proxy.https=http://myproxy.server.ru:????
``` 
### E. Обновление системы Linux Ubuntu
##### Выполните следующую команду в терминале<br/>(для запуска этой команды от вас потребуют пароль)
```
sudo apt-get update && sudo apt-get upgrade -y
``` 
### F. Установка программных пакетов для Linux Ubuntu
##### Выполните следующие команды для установки пакетов <br/>(для запуска этой команды от вас потребуют пароль)
```
sudo apt-get install -y curl unzip build-essential ncurses-dev
sudo apt-get install -y byacc zlib1g-dev git cmake
sudo apt-get install -y default-jdk default-jre ant
sudo apt-get install -y automake screen gcc pkg-config 
sudo apt-get install -y libncurses5-dev sysstat libxml2-dev libz-dev
sudo apt-get install -y libgl1-mesa-glx libegl1-mesa-dev libxrandr2 libxss1 
sudo apt-get install -y libxcursor1 libxcomposite1 libasound2 libxi6 libxtst6
```
##### Описание пакетов
   `curl` - набор библиотек, в которых реализуются базовые возможности работы с URL страницами и передачи файлов. Библиотека поддерживает работу с протоколами: FTP, FTPS, HTTP, HTTPS, TFTP, SCP, SFTP, Telnet, DICT, LDAP, а также POP3, IMAP и SMTP.  
   `unzip` - инструмент для сжатия файлов/каталогов  
   `build-essential` - набор важных библиотек для компиляции программ  
   `ncurses-dev` - библиотека для управления экраном и вводом-выводом на терминал  
   `byacc` - YACC-совместимый парсер  
   `zlib1g-dev` - библиотека для компрессии файлов  
   `git` - система контроля версий  
   `cmake` - контроллер компиляции и установки программ  
   `default-jdk` - Java Development Kit  
   `default-jre` - Java Runtime Environment  
   `ant` - Apache Ant (инструмент сборки ПО на Java)  
   `automake` - контроллер компиляции и установки программ  
   `screen` - библиотека, позволяющая работать сразу в нескольких терминалах  
   `gcc` - GNU Compiler Collection (коллекция компиляторов)  
   `pkg-config` - настройка установленных библиотек  
   `libncurses5-dev` - библиотека для управления экраном и вводом-выводом на терминал  
   `sysstat` – инструменты производительности системы для Linux  
   `libxml2-dev` - файлы разработки для XML-библиотеки GNOME  
   `libz-dev` - библиотека для компрессии файлов  
   `libgl1-mesa-glx` - OpenGL API - время выполнения GLX  
   `libgl1-mesa-dev` - OpenGL API - время выполнения GLX  
   `libxrandr2` - библиотека для расширений X11 RandR  
   `libxss1` - библиотека для расширений X11 Screen Saver  
   `libxcursor1` – библиотека управления курсором X  
   `libxcomposite1` – библиотека композитных расширений X11  
   `libasound2-dev` - библиотека для приложений ALSA  
   `libxi6` - библиотека расширения ввода X11  
   `libxtst6` - библиотека расширений записи X11 Testing  
   